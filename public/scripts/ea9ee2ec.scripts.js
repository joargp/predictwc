"use strict";angular.module("predictwcApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl"}).when("/groups",{templateUrl:"views/groups.html",controller:"GroupsCtrl"}).when("/countries",{templateUrl:"views/countries.html",controller:"CountriesCtrl"}).when("/matches",{templateUrl:"views/matches.html",controller:"MatchesCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("predictwcApp").controller("MainCtrl",["$scope","$http","countries",function(a,b,c){c.getAll().then(function(b){a.countries=b})}]),angular.module("predictwcApp").controller("ProfileCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("predictwcApp").controller("GroupsCtrl",["$scope","groups",function(a,b){b.getAll().then(function(b){a.groups=b})}]),angular.module("predictwcApp").controller("LoginCtrl",["$scope",function(a){a.loggedInUser={username:"joar@test.com",createdOn:"2014-05-24T11:41:02.319Z",role:"user",id:"6fa63096702fda33"},a.createUser=function(a,b){dpd.users.post({username:a,password:b},function(a,b){return b?console.log(b):void console.log(a)})},a.loginUser=function(b,c){dpd.users.login({username:b,password:c},function(b,c){return c?console.log(c):(console.log(b),void(a.loggedInUser=b))})}}]),angular.module("predictwcApp").factory("countries",["$q",function(a){return{getAll:function(){var b=a.defer();return dpd.countries.get(function(a){b.resolve(a)}),b.promise},add:function(b){var c=a.defer();return dpd.countries.post({name:b.name,groupId:b.groupId,flagCode:b.flagCode},function(a){c.resolve(a)}),c.promise}}}]),angular.module("predictwcApp").factory("groups",["$q",function(a){return{getAll:function(){var b=a.defer();return dpd.groups.get(function(a){b.resolve(a)}),b.promise}}}]),angular.module("predictwcApp").directive("flag",function(){return{templateUrl:"/views/directives/flag.html",restrict:"E"}}),angular.module("predictwcApp").directive("flagIcon",function(){return{templateUrl:"/views/directives/flag-icon.html",restrict:"E"}}),angular.module("predictwcApp").controller("CountriesCtrl",["$scope","countries","groups",function(a,b,c){b.getAll().then(function(b){a.countries=b}),c.getAll().then(function(b){a.groups=b}),a.country={name:"",groupId:"",flagCode:""},a.addCountry=function(c){b.add(c).then(function(b){a.countries.unshift(b)})}}]),angular.module("predictwcApp").controller("MatchesCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("predictwcApp").factory("matches",function(){return{getAll:function(){var a=$q.defer();return dpd.matches.get(function(b){a.resolve(b)}),a.promise},add:function(a){var b=$q.defer();return dpd.matches.post({awayTeamId:a.awayTeamId,homeTeamId:a.homeTeamId,startTime:a.date},function(a){b.resolve(a)}),b.promise}}});